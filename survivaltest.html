<!DOCTYPE html>
<html lang="zh-TW" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adobe è¨­è¨ˆåƒ¹å€¼èˆ‡æ•ˆèƒ½åˆ†æå„€</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        adobe: {
                            bg: '#1E1E1E',
                            panel: '#323232',
                            blue: '#0265DC',
                            blueHover: '#0056b3',
                            red: '#FF5555',
                            green: '#2DCA72',
                            yellow: '#FFD700'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e1e1e; }
        ::-webkit-scrollbar-thumb { background: #454545; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555555; }
        .light ::-webkit-scrollbar-track { background: #F0F2F5; }
        .light ::-webkit-scrollbar-thumb { background: #D1D5DB; }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        
        .shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 dark:bg-[#1E1E1E] dark:text-[#f0f0f0] font-sans transition-colors duration-300 min-h-screen pb-10 selection:bg-adobe-blue selection:text-white">

    <!-- Intro Modal -->
    <div id="intro-modal" class="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-fade-in">
        <div class="bg-white dark:bg-[#2b2b2b] rounded-2xl max-w-md w-full border border-gray-200 dark:border-[#555555] shadow-2xl overflow-hidden">
            <div class="p-8 text-center">
                <div class="w-20 h-20 bg-gradient-to-br from-[#FF0000] to-[#6018DC] rounded-2xl mx-auto flex items-center justify-center shadow-lg mb-6 transform hover:scale-105 transition-transform duration-300">
                    <span class="text-white font-bold text-3xl">CC</span>
                </div>
                <h2 class="text-2xl font-bold mb-3">è¨­è¨ˆå¸«è·å ´ç”Ÿå­˜æª¢æ¸¬å„€</h2>
                <p class="text-base text-gray-500 dark:text-[#aaaaaa] mb-8 leading-relaxed">
                    é€™ä»½å·¥ä½œåˆ°åº•å€¼ä¸å€¼å¾—è³£å‘½ï¼Ÿ3 æ­¥é©Ÿç®—å‡ºä½ çš„çœŸå¯¦æ™‚è–ªã€èº«åƒ¹è¡Œæƒ…ï¼Œä»¥åŠé‚£äº›è¢«å¿½ç•¥çš„éš±å½¢åŠ ç­æˆæœ¬ã€‚
                </p>
                <div class="text-left space-y-4 mb-10">
                    <!-- Steps -->
                    <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 dark:bg-[#181818] border border-gray-200 dark:border-[#555555]">
                        <div class="bg-blue-500/20 text-blue-500 p-2 rounded-lg shrink-0">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                        </div>
                        <div>
                            <h4 class="text-base font-bold mb-1">1. å…ˆçœ‹å¸‚å ´è¡Œæƒ…</h4>
                            <p class="text-sm text-gray-500 dark:text-[#aaaaaa]">æ ¹æ“šä½ çš„æŠ€èƒ½åŒ…èˆ‡å¹´è³‡ï¼Œçœ‹çœ‹å¤–é¢çµ¦å¤šå°‘ã€‚</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 dark:bg-[#181818] border border-gray-200 dark:border-[#555555]">
                        <div class="bg-orange-500/20 text-orange-500 p-2 rounded-lg shrink-0">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <div>
                            <h4 class="text-base font-bold mb-1">2. å†ç®—å‘½å€¼å¤šå°‘éŒ¢</h4>
                            <p class="text-sm text-gray-500 dark:text-[#aaaaaa]">æ‰£æ‰é€šå‹¤ã€è²¬ä»»åˆ¶åŠ ç­ï¼Œä½ çš„æ™‚è–ªé‚„å‰©å¤šå°‘ï¼Ÿ</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 dark:bg-[#181818] border border-gray-200 dark:border-[#555555]">
                        <div class="bg-red-500/20 text-red-500 p-2 rounded-lg shrink-0">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                        </div>
                        <div>
                            <h4 class="text-base font-bold mb-1">3. æªå‡ºéš±å½¢è™§æ</h4>
                            <p class="text-sm text-gray-500 dark:text-[#aaaaaa]">è»Ÿé«”é›£ç”¨ã€æµç¨‹å¡å¡ï¼Œå…¶å¯¦éƒ½åœ¨å·èµ°ä½ çš„éŒ¢ã€‚</p>
                        </div>
                    </div>
                </div>
                <button onclick="closeModal('intro-modal')" class="w-full bg-adobe-blue hover:bg-blue-700 text-white py-4 rounded-xl text-base font-bold transition-all shadow-lg hover:shadow-xl active:scale-95 flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>
                    é–‹å§‹æª¢æ¸¬
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <div class="bg-white dark:bg-[#2b2b2b] p-0 shadow-lg border-b border-gray-200 dark:border-[#383838] transition-colors duration-300 sticky top-0 z-40">
        <div class="h-1.5 w-full bg-gradient-to-r from-[#FF0000] via-[#FF9A00] to-[#31A8FF]"></div>
        <div class="p-5 max-w-lg mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold flex items-center gap-3 tracking-wide">
                    <div class="bg-gradient-to-br from-[#FF0000] to-[#6018DC] text-white p-1.5 rounded-md font-bold text-sm w-9 h-9 flex items-center justify-center shadow-lg">CC</div>
                    è¨­è¨ˆå¸«ç”Ÿå­˜æª¢æ¸¬
                </h1>
                <p class="text-xs text-gray-500 dark:text-[#aaaaaa] mt-1 ml-12 font-medium">Adobe å•†æ¥­æ•ˆèƒ½è©•ä¼°å·¥å…·</p>
            </div>
            <div class="flex gap-3">
                <button onclick="toggleTheme()" class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-[#3E3E3E] transition-colors border border-gray-200 dark:border-[#444444] text-gray-500 dark:text-[#888888]">
                    <!-- Sun/Moon Icon -->
                    <svg id="theme-icon" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"></svg>
                </button>
                <button onclick="openModal('source-modal')" class="flex items-center gap-2 bg-gray-100 dark:bg-[#3E3E3E] px-4 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-[#ffffff] hover:text-adobe-blue transition-colors border border-gray-200 dark:border-[#444444]">
                    <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                    æ•¸æ“šä¾†æº
                </button>
            </div>
        </div>
    </div>

    <!-- Source Modal -->
    <div id="source-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in">
        <div class="bg-white dark:bg-[#2b2b2b] rounded-xl max-w-lg w-full border border-gray-200 dark:border-[#555555] shadow-2xl overflow-hidden">
            <div class="p-5 border-b border-gray-200 dark:border-[#444444] flex justify-between items-center bg-white dark:bg-[#2b2b2b]">
                <h3 class="font-bold flex items-center gap-2 text-lg"><svg class="w-5 h-5 text-adobe-blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg> 2025 æ•¸æ“šèªªæ˜</h3>
                <button onclick="closeModal('source-modal')" class="text-gray-500 hover:text-gray-900 dark:hover:text-white"><svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button>
            </div>
            <div class="p-6 text-sm text-gray-600 dark:text-[#cccccc] space-y-5 max-h-[60vh] overflow-y-auto leading-relaxed">
                <div>
                    <h4 class="text-adobe-blue font-bold mb-2 text-base uppercase tracking-wide">104 è–ªè³‡æƒ…å ± (ä¸­ä½æ•¸)</h4>
                    <ul class="list-disc pl-5 space-y-2 text-sm text-gray-500 dark:text-[#aaaaaa]">
                        <li><span class="dark:text-white">å¹³é¢/ç¾ç·¨</span>ï¼šå¹³å‡æœˆè–ª 3.8 è¬</li>
                        <li><span class="dark:text-white">UI è¨­è¨ˆå¸«</span>ï¼šå¹³å‡æœˆè–ª 5.6 è¬</li>
                        <li><span class="dark:text-white">å¤šåª’é«”å‹•ç•«</span>ï¼šå¹³å‡æœˆè–ª 4.8 è¬</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-adobe-red font-bold mb-2 text-base uppercase tracking-wide">é¢¨éšªè©•ä¼°è²æ˜</h4>
                    <p class="text-sm text-gray-500 dark:text-[#aaaaaa]">ã€Œéš±å½¢è™§æã€è¨ˆç®—åŒ…å«ï¼šé€šå‹¤æ™‚é–“æˆæœ¬ã€è²¬ä»»åˆ¶åŠ ç­ã€ä»¥åŠå› å·¥å…·ä¸ç›¸å®¹é€ æˆçš„äººåŠ›æµªè²»ã€‚å¯¦éš›æ•¸å€¼ä¾å€‹äººç‹€æ³è€Œå®šã€‚</p>
                </div>
            </div>
            <div class="p-5 text-center border-t border-gray-200 dark:border-[#444444]">
                <button onclick="closeModal('source-modal')" class="w-full bg-adobe-blue hover:bg-blue-700 text-white py-3 rounded-lg text-sm font-medium">äº†è§£ï¼Œé—œé–‰è¦–çª—</button>
            </div>
        </div>
    </div>

    <!-- Stepper Tabs -->
    <div class="max-w-lg mx-auto mt-8 px-4">
        <div class="flex justify-between items-center bg-white dark:bg-[#2b2b2b] p-3 rounded-xl border border-gray-200 dark:border-[#444444] shadow-sm">
            <!-- Step 1 -->
            <div id="tab-1" class="flex items-center gap-2 px-3 py-2 rounded-lg transition-all border-b-2 border-adobe-blue bg-gray-100 dark:bg-[#3E3E3E] dark:text-white">
                <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-adobe-blue text-white">1</div>
                <span class="text-sm font-bold">å¸‚å€¼</span>
            </div>
            <div class="h-[2px] w-6 bg-gray-300 dark:bg-[#555555]"></div>
            <!-- Step 2 -->
            <div id="tab-2" class="flex items-center gap-2 px-3 py-2 rounded-lg transition-all border-b-2 border-transparent text-gray-400 dark:text-[#888888]">
                <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-gray-300 dark:bg-[#555555] text-white">2</div>
                <span class="text-sm font-bold">æ™‚è–ª</span>
            </div>
            <div class="h-[2px] w-6 bg-gray-300 dark:bg-[#555555]"></div>
            <!-- Step 3 -->
            <div id="tab-3" class="flex items-center gap-2 px-3 py-2 rounded-lg transition-all border-b-2 border-transparent text-gray-400 dark:text-[#888888]">
                <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-gray-300 dark:bg-[#555555] text-white">3</div>
                <span class="text-sm font-bold">é¢¨éšª</span>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <div class="max-w-lg mx-auto p-4 space-y-8 pb-20">
        
        <!-- Toast Notification -->
        <div id="toast" class="hidden fixed top-6 left-1/2 transform -translate-x-1/2 bg-adobe-blue text-white px-6 py-4 rounded-xl shadow-2xl z-50 text-base flex items-center gap-3 animate-bounce font-medium border border-blue-400 w-max max-w-[90vw]">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            <span id="toast-msg">Notification</span>
        </div>

        <!-- STEP 1: MARKET VALUE -->
        <section id="step-1" class="animate-fade-in space-y-6">
            <div class="bg-white dark:bg-[#2b2b2b] p-6 rounded-xl border border-gray-200 dark:border-[#444444] shadow-lg">
                <h3 class="text-gray-500 dark:text-[#dddddd] text-base font-bold mb-6 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 dark:border-[#444444] pb-4">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="13.5" cy="6.5" r=".5"/><circle cx="17.5" cy="10.5" r=".5"/><circle cx="8.5" cy="7.5" r=".5"/><circle cx="6.5" cy="12.5" r=".5"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg> 
                    åƒæ•¸è¨­å®šé¢æ¿
                </h3>
                
                <div class="grid grid-cols-2 gap-5 mb-8">
                    <div class="space-y-2">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">è·ä½é¡å‹</label>
                        <select id="role" class="w-full bg-gray-50 dark:bg-[#181818] border border-gray-300 dark:border-[#555555] rounded-xl p-3 text-base text-gray-900 dark:text-[#f0f0f0] focus:border-adobe-blue outline-none transition-colors appearance-none">
                            <option value="graphic">å¹³é¢/è¦–è¦ºè¨­è¨ˆ</option>
                            <option value="ui">UI/UX ä½¿ç”¨è€…ä»‹é¢</option>
                            <option value="video">å½±éŸ³/å‹•æ…‹è¨­è¨ˆ</option>
                            <option value="marketing_design">ç¤¾ç¾¤è¡ŒéŠ·è¨­è¨ˆ</option>
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">å·¥ä½œåœ°é»</label>
                        <select id="city" class="w-full bg-gray-50 dark:bg-[#181818] border border-gray-300 dark:border-[#555555] rounded-xl p-3 text-base text-gray-900 dark:text-[#f0f0f0] focus:border-adobe-blue outline-none transition-colors appearance-none">
                            <option value="taipei">é›™åŒ—åœ°å€</option>
                            <option value="other">å…¶ä»–ç¸£å¸‚</option>
                        </select>
                    </div>
                </div>

                <div class="mb-10">
                    <div class="flex justify-between mb-3">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">è¨­è¨ˆèµ°è·³è³‡æ­·</label>
                        <span id="exp-display" class="text-adobe-blue font-bold text-lg">2 å¹´</span>
                    </div>
                    <input type="range" id="exp" min="0" max="15" step="1" value="2" class="w-full h-2 bg-gray-200 dark:bg-[#454545] rounded-full appearance-none cursor-pointer accent-[#0265DC]">
                </div>

                <div id="skills-section">
                    <div class="flex justify-between items-end mb-4">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">é ä»€éº¼åƒé£¯ï¼Ÿ(æŠ€èƒ½åŒ…)</label>
                        <span class="text-xs text-orange-500 font-medium">* è«‹å‹¾é¸å·²ç²¾é€šé …ç›®</span>
                    </div>
                    <div id="skills-grid" class="grid grid-cols-4 gap-4 p-3 rounded-2xl transition-all">
                        <!-- Skills injected by JS -->
                    </div>
                </div>

                <!-- Tips Containers -->
                <div id="tips-container"></div>
            </div>

            <!-- Result Card -->
            <div class="bg-white dark:bg-[#2b2b2b] rounded-xl border border-gray-200 dark:border-[#444444] overflow-hidden text-center relative shadow-xl">
                <div class="p-10 bg-gradient-to-b from-white to-gray-50 dark:from-[#333333] dark:to-[#2b2b2b]">
                    <div class="flex items-center justify-center gap-2 mb-4"><p class="text-gray-500 dark:text-[#aaaaaa] text-base uppercase tracking-widest font-medium">å¸‚å ´è¡Œæƒ…ä¼°ç®—æœˆè–ª</p></div>
                    <div class="text-5xl font-bold tracking-tight mb-5 flex items-center justify-center gap-3 font-mono">
                        <span class="text-xl text-gray-500 dark:text-[#aaaaaa] font-normal">NT$</span>
                        <span id="val-market-low">0</span> 
                        <span class="text-gray-400 dark:text-[#dddddd] text-3xl">-</span> 
                        <span id="val-market-high">0</span>
                    </div>
                    <div id="crown-badge" class="hidden inline-flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/30 text-yellow-500 px-5 py-2 rounded-full text-sm font-bold mt-2">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg> å‰ 10% é ‚å°–è¨­è¨ˆäººæ‰
                    </div>
                </div>
                <div class="p-6 border-t border-gray-200 dark:border-[#444444] bg-gray-50 dark:bg-[#222222]">
                    <button onclick="goToStep(2)" class="w-full bg-adobe-blue hover:bg-blue-700 text-white py-4 rounded-xl text-base font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95">
                        ä¸‹ä¸€æ­¥ï¼šæ™‚è–ªåˆ†æ <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- STEP 2: HOURLY RATE -->
        <section id="step-2" class="hidden animate-fade-in space-y-6">
            <div class="bg-white dark:bg-[#2b2b2b] p-6 rounded-xl border border-gray-200 dark:border-[#444444] shadow-md space-y-6">
                <h3 class="text-gray-500 dark:text-[#dddddd] text-base font-bold flex items-center gap-2 uppercase tracking-widest border-b border-gray-200 dark:border-[#444444] pb-4">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> æˆæœ¬èˆ‡æ™‚è–ªåˆ†æ
                </h3>
                
                <div class="space-y-3">
                    <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">è¼¸å…¥æƒ³è¦åƒè€ƒçš„æœˆè–ª (å«æ´¥è²¼)</label>
                    <div id="salary-input-container" class="relative rounded-xl transition-all">
                        <span class="absolute left-4 top-3.5 text-gray-500 dark:text-[#aaaaaa] font-mono text-lg">$</span>
                        <input type="number" id="monthlySalary" value="38000" class="w-full bg-gray-50 dark:bg-[#181818] border border-gray-300 dark:border-[#555555] rounded-xl pl-10 pr-4 py-3.5 text-gray-900 dark:text-[#f0f0f0] focus:border-adobe-blue outline-none transition-colors font-mono text-lg" />
                    </div>
                    <p class="text-xs text-gray-500 dark:text-[#aaaaaa] mt-1 opacity-70">* æ•¸æ“šåƒ…ä¾›æœ¬æ©Ÿè¨ˆç®—ï¼Œä¸æœƒä¸Šå‚³æˆ–è¨˜éŒ„</p>
                </div>

                <div class="grid grid-cols-2 gap-5">
                    <div class="space-y-3">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">è¡¨å®šæ»¯ç•™ (å°æ™‚)</label>
                        <div id="hours-input-container" class="transition-all">
                            <input type="number" id="workHours" value="8" class="w-full bg-gray-50 dark:bg-[#181818] border border-gray-300 dark:border-[#555555] rounded-xl p-3.5 text-gray-900 dark:text-[#f0f0f0] focus:border-adobe-blue outline-none transition-colors text-center font-mono text-lg" />
                        </div>
                    </div>
                    <div class="space-y-3">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase">è²¬ä»»åˆ¶åŠ ç­ (ç„¡è–ª)</label>
                        <input type="number" id="otHours" value="0" class="w-full bg-gray-50 dark:bg-[#181818] border border-gray-300 dark:border-[#555555] rounded-xl p-3.5 text-gray-900 dark:text-[#f0f0f0] focus:border-adobe-blue outline-none transition-colors text-center font-mono text-lg" />
                    </div>
                </div>

                <div class="space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700/30">
                    <div class="flex justify-between items-center">
                        <label class="text-sm font-medium text-gray-500 dark:text-[#aaaaaa] uppercase flex items-center gap-2">
                            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="2"/><path d="M2 10h20"/><path d="M6 15h.01"/><path d="M18 15h.01"/></svg> é€šå‹¤åœ°ç„ (æ¯æ—¥ä¾†å›)
                        </label>
                        <span id="commute-display" class="text-adobe-blue text-base font-bold">60 åˆ†é˜</span>
                    </div>
                    <input type="range" id="commuteMins" min="0" max="180" step="10" value="60" class="w-full h-2 bg-gray-200 dark:bg-[#454545] rounded-full appearance-none cursor-pointer accent-[#0265DC]">
                    <p class="text-xs text-gray-500 dark:text-[#aaaaaa] opacity-70">é€šå‹¤æ™‚é–“ä¹Ÿæ˜¯è®Šç›¸å·¥æ™‚ï¼Œæœƒæ‹‰ä½çœŸå¯¦æ™‚è–ªã€‚</p>
                </div>
            </div>

            <div id="hourly-card" class="rounded-xl border overflow-hidden text-center relative transition-all duration-500 bg-white dark:bg-[#2b2b2b] border-gray-200 dark:border-[#444444]">
                <div class="p-10">
                    <p class="text-gray-500 dark:text-[#aaaaaa] text-base uppercase tracking-widest mb-3 font-medium">çœŸå¯¦æ™‚è–ª (å«é€šå‹¤æˆæœ¬)</p>
                    <div id="val-real-hourly-container" class="text-6xl font-bold tracking-tighter mb-6 font-mono text-gray-900 dark:text-white">
                        <span class="text-3xl font-normal mr-3 opacity-60">$</span><span id="val-real-hourly">0</span>
                    </div>
                    <div class="flex flex-col items-center gap-3">
                        <div id="hourly-tier" class="text-xl font-bold text-gray-900 dark:text-white"></div>
                        <p id="hourly-desc" class="text-base text-gray-500 dark:text-[#dddddd] max-w-[90%] mx-auto leading-relaxed"></p>
                    </div>
                </div>
                <div class="p-6 border-t border-gray-200 dark:border-[#444444] bg-gray-50 dark:bg-[#222222] flex gap-4">
                    <button onclick="goToStep(1)" class="flex-1 flex items-center justify-center gap-2 text-base text-gray-500 dark:text-[#aaaaaa] hover:text-gray-900 dark:hover:text-[#f0f0f0] font-medium transition-colors">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg> ä¸Šä¸€æ­¥
                    </button>
                    <button onclick="goToStep(3)" class="flex-1 bg-adobe-blue hover:bg-blue-700 text-white py-4 rounded-xl text-base font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95">
                        ä¸‹ä¸€æ­¥ï¼šé¢¨éšªè©•ä¼° <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- STEP 3: RISK & ROI -->
        <section id="step-3" class="hidden animate-fade-in space-y-6">
            <div class="bg-white dark:bg-[#2b2b2b] p-6 rounded-xl border border-gray-200 dark:border-[#444444] transition-colors duration-300">
                <h3 class="text-gray-500 dark:text-[#dddddd] text-base font-bold mb-6 flex items-center gap-2 uppercase tracking-widest border-b border-gray-200 dark:border-[#444444] pb-4">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg> é Adobe æ›¿ä»£æ–¹æ¡ˆé¢¨éšªè©•ä¼°
                </h3>
                
                <div class="flex items-center gap-3 mb-8 p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-200 border border-blue-100 dark:border-blue-500/30 text-sm">
                    <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
                    <span>ä¾æ“šçœŸå¯¦æ™‚è–ª (<span id="hourly-ref"></span>/hr)ï¼Œè¨ˆç®—æ¡ç”¨æ›¿ä»£è»Ÿé«”å¯èƒ½ç”¢ç”Ÿçš„ã€Œéš±å½¢è™§æã€ã€‚</span>
                </div>

                <p class="text-sm text-gray-500 dark:text-[#aaaaaa] mb-5">è«‹å‹¾é¸ç›®å‰é¢è‡¨çš„ã€Œéæ¨™æº–åŒ–ã€ç—›é»ï¼š</p>
                
                <div id="risk-list" class="space-y-5">
                    <!-- Risk items injected here -->
                </div>
            </div>

            <!-- New Card: AI Credits Economy -->
            <div class="mt-5 p-5 rounded-2xl border border-gray-200 dark:border-[#444444] bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-start gap-4 animate-fade-in shadow-md">
                <div class="p-2.5 bg-gradient-to-br from-[#FF0000] to-[#6018DC] rounded-xl text-white shadow-sm mt-0.5 shrink-0">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></svg>
                </div>
                <div>
                    <h4 class="text-base font-bold text-gray-900 dark:text-[#f0f0f0] mb-2 flex items-center gap-2">
                        Adobe é»æ•¸ç¶“æ¿Ÿ (Generative Credits)
                    </h4>
                    <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">
                        Adobe CC å•†æ¥­ç‰ˆæ¯æœˆé…ç™¼ <span class="font-bold text-adobe-red">ç”Ÿæˆå¼é»æ•¸</span>ï¼Œå¯ç›´æ¥èª¿ç”¨ Firefly èˆ‡æ•´åˆçš„ç¬¬ä¸‰æ–¹æ¨¡å‹ã€‚
                        <br/><span class="text-adobe-blue font-medium mt-1 block">ğŸ’¡ çœéŒ¢æ´å¯Ÿï¼šç„¡éœ€é¡å¤–è¨‚é–±å¤šå€‹ AI å·¥å…·ï¼Œä¸€çµ„å¸³è™Ÿæå®šå•†ç”¨ç‰ˆæ¬Šèˆ‡å‰µä½œéœ€æ±‚ï¼</span>
                    </p>
                </div>
            </div>

            <!-- ROI Result -->
            <div class="bg-white dark:bg-[#2b2b2b] rounded-xl border border-gray-200 dark:border-[#444444] overflow-hidden relative shadow-xl">
                <div class="p-10">
                    <p class="text-gray-500 dark:text-[#aaaaaa] text-base uppercase tracking-widest mb-5 font-medium">æ¯æœˆæ½›åœ¨éš±å½¢è™§æ</p>
                    <div class="flex flex-wrap items-baseline gap-3 mb-2 justify-center">
                        <span id="loss-min" class="text-2xl sm:text-3xl font-bold font-mono tracking-tight whitespace-nowrap">NT$ 0</span>
                        <span class="text-gray-500 dark:text-[#aaaaaa] text-lg">-</span>
                        <span id="loss-max" class="text-2xl sm:text-3xl font-bold font-mono tracking-tight whitespace-nowrap">0</span>
                    </div>
                    <p class="text-sm text-gray-500 dark:text-[#888888] mb-8 text-center">(å·¥æ™‚æµªè²» + ç›¸å®¹æ€§é¢¨éšª + æ‹›å‹Ÿéš±å½¢æˆæœ¬)</p>

                    <div class="space-y-6 mb-8">
                        <div>
                            <div class="flex justify-between text-sm mb-2"><span class="dark:text-[#f0f0f0]">éš±å½¢è™§æ (ä½æ¨™)</span><span id="bar-val-loss" class="dark:text-[#f0f0f0]">$0</span></div>
                            <div class="h-3 bg-gray-200 dark:bg-[#333333] rounded-full overflow-hidden">
                                <div id="bar-loss" class="h-full bg-adobe-red transition-all duration-500" style="width: 0%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-2"><span class="text-adobe-blue font-bold">Adobe Creative Cloud Pro å•†æ¥­ç‰ˆ (ç¶“éŠ·é ä¼°)</span><span class="text-adobe-blue font-bold">$4,000</span></div>
                            <div class="h-3 bg-gray-200 dark:bg-[#333333] rounded-full overflow-hidden">
                                <div id="bar-adobe" class="h-full bg-adobe-blue transition-all duration-500" style="width: 0%"></div>
                            </div>
                            <p class="text-[10px] text-right mt-2 opacity-60 dark:text-[#888888]">* å¯¦éš›åƒ¹æ ¼ä»¥æ¡è³¼å…§å®¹èˆ‡ç¶“éŠ·å ±åƒ¹ç‚ºæº–</p>
                        </div>
                    </div>

                    <div id="boss-insight" class="p-5 rounded-xl border flex gap-4 transition-colors">
                        <svg class="w-6 h-6 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
                        <div>
                            <h4 class="text-base font-bold mb-2">è€é—†æ±ºç­–æ´å¯Ÿ</h4>
                            <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">
                                äººæ‰æœƒæµå‘ã€Œæ¨™æº–åŒ–å·¥å…·ã€ã€‚å …æŒæ›¿ä»£æ–¹æ¡ˆå°‡é¢è‡¨<span class="dark:text-[#f0f0f0]">ã€Œä¸Šä¸‹æ¸¸ç›¸å®¹æ€§é¢¨éšªã€</span>èˆ‡<span class="dark:text-[#f0f0f0]">ã€Œäººæ‰æ‹›å‹Ÿæ–·å±¤ã€</span>ã€‚
                                <span id="loss-conclusion" class="block mt-3 font-bold"></span>
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 border-t border-gray-200 dark:border-[#444444] bg-gray-50 dark:bg-[#222222]">
                    <div class="flex gap-4 mb-6">
                        <button onclick="goToStep(2)" class="flex-1 flex items-center justify-center gap-2 text-base text-gray-500 dark:text-[#aaaaaa] hover:text-gray-900 dark:hover:text-[#f0f0f0] font-medium transition-colors">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg> ä¸Šä¸€æ­¥
                        </button>
                        <button onclick="copyReport()" class="flex-[2] bg-gradient-to-r from-[#31A8FF] to-[#0265DC] hover:from-[#0265DC] hover:to-[#0056b3] text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition-all active:scale-95">
                            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg> è¤‡è£½å®Œæ•´åˆ†æå ±å‘Š
                        </button>
                    </div>
                    
                    <!-- BOTTOM CTA -->
                    <div class="grid grid-cols-2 gap-4 pt-6 border-t border-gray-200 dark:border-[#444444]">
                        <a href="https://line.me/R/ti/p/@910kziej" target="_blank" class="flex flex-col items-center justify-center p-4 rounded-xl border border-gray-200 dark:border-[#444444] bg-white dark:bg-[#2b2b2b] hover:border-adobe-blue transition-all group">
                            <svg class="w-6 h-6 text-adobe-yellow mb-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            <span class="text-xs font-bold text-gray-900 dark:text-[#f0f0f0]">ç²å–æœ€æ–°ç”¢æ¥­æ¶ˆæ¯</span>
                            <span class="text-[10px] text-gray-500 dark:text-[#888888] group-hover:text-adobe-blue">åŠ å…¥ LINE OA</span>
                        </a>
                        
                        <a href="https://adbeweblink.github.io/myproject/reseller.html" target="_blank" class="flex flex-col items-center justify-center p-4 rounded-xl bg-adobe-blue hover:bg-blue-700 transition-all text-white shadow-lg shadow-blue-900/20">
                            <svg class="w-6 h-6 mb-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                            <span class="text-xs font-bold">è¯ç¹«å…¨å°ç¶“éŠ·å•†</span>
                            <span class="text-[10px] text-blue-100">ä¼æ¥­æ¡è³¼è«®è©¢</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <div class="text-center text-xs text-gray-400 dark:text-[#666666] mt-8 font-mono">Â© 2025 Adobe Design Value Analyzer.</div>
    </div>

    <!-- Logic Script -->
    <script>
        // Constants & Data
        const ROLES = {
            graphic: { name: 'å¹³é¢/è¦–è¦ºè¨­è¨ˆ', base: 33000, recommended: ['ps', 'ai', 'id', 'firefly'] },
            ui: { name: 'UI/UX ä½¿ç”¨è€…ä»‹é¢', base: 42000, recommended: ['ps', 'ai', 'xd', 'firefly'] },
            video: { name: 'å½±éŸ³/å‹•æ…‹è¨­è¨ˆ', base: 38000, recommended: ['pr', 'ae', 'ps', 'firefly', 'substance'] },
            marketing_design: { name: 'ç¤¾ç¾¤è¡ŒéŠ·è¨­è¨ˆ', base: 32000, recommended: ['ps', 'ai', 'pr', 'firefly'] },
        };

        const SKILLS_VALUE = {
            firefly: { name: 'Fi', fullName: 'Adobe Firefly (AI)', val: 3000, color: 'text-[#FF0000] border-[#FF0000]' },
            ps: { name: 'Ps', fullName: 'Photoshop', val: 0, color: 'text-[#31A8FF] border-[#31A8FF]' },
            ai: { name: 'Ai', fullName: 'Illustrator', val: 0, color: 'text-[#FF9A00] border-[#FF9A00]' },
            id: { name: 'Id', fullName: 'InDesign', val: 1500, color: 'text-[#FF3366] border-[#FF3366]' },
            pr: { name: 'Pr', fullName: 'Premiere Pro', val: 4000, color: 'text-[#9999FF] border-[#9999FF]' },
            ae: { name: 'Ae', fullName: 'After Effects', val: 7000, color: 'text-[#CF96FD] border-[#CF96FD]' },
            xd: { name: 'Xd', fullName: 'Adobe Xd', val: 6500, color: 'text-[#FF61F6] border-[#FF61F6]' },
            substance: { name: '3D', fullName: 'Substance 3D', val: 9000, color: 'text-[#24E2B1] border-[#24E2B1]' },
        };

        const RISK_ITEMS = [
            { id: 'ai_chaos', text: 'AI è¨‚é–±è²»ç”¨å¤§äº‚é¬¥', hoursPerWeek: 3, desc: 'å…¬å¸è¨‚äº†ä¸€å † MJ, GPT... å¸³è™Ÿç®¡ç†æ··äº‚ä¸”è²»ç”¨åˆ†æ•£', solution: 'Adobe å•†æ¥­ç‰ˆå…§å»ºé»æ•¸ï¼Œä¸€ç«™æå®šä¸»æµ AI æ¨¡å‹' },
            { id: 'compatibility', text: 'æª”æ¡ˆå‚³çµ¦å» å•†å°±è·‘ç‰ˆ', hoursPerWeek: 3, desc: 'å°åˆ·å» æ‰“ä¸é–‹ã€å®¢æˆ¶çœ‹å­—å‹å…¨äº‚ï¼Œä¾†å›ä¿®æ­£è€—æ™‚', solution: 'æ¥­ç•Œæ¨™æº– PDF/AI/PSD æ ¼å¼ï¼Œç„¡ç¸«å”ä½œ' },
            { id: 'talent', text: 'æƒ³æ‰¾äººå¹«å¿™æ²’äººæœƒç”¨', hoursPerWeek: 5, desc: 'ä¸»æµäººæ‰çš†ç”¨ Adobeï¼Œå†·é–€è»Ÿé«”é›£æ‰¾å³æˆ°åŠ›', solution: 'Adobe ç‚ºå…¨çƒè¨­è¨ˆå¸«å…±é€šèªè¨€' },
            { id: 'no_ai', text: 'é‚„åœ¨å¾’æ‰‹å»èƒŒä¿®åœ–ï¼Ÿ', hoursPerWeek: 4, desc: 'æ²’ç”¨ AI è¼”åŠ©ï¼ŒåŒæ¨£çš„åœ–åˆ¥äºº 5 åˆ†é˜ä½ åš 1 å°æ™‚', solution: 'Firefly ç”Ÿæˆå¼å¡«è‰²èˆ‡å‘é‡åŠŸèƒ½' },
            { id: 'collab', text: 'æª”æ¡ˆç‰ˆæœ¬æ··äº‚å¤±æ§', hoursPerWeek: 2, desc: 'æ²’ç”¨é›²ç«¯å”ä½œï¼Œæª”æ¡ˆå‚³ä¾†å‚³å»ï¼Œä¸çŸ¥é“å“ªå€‹æ‰æ˜¯æœ€çµ‚ç‰ˆ', solution: 'CC Libraries èˆ‡é›²ç«¯æ–‡ä»¶å”ä½œ' },
            { id: 'fragmentation', text: 'è»Ÿé«”é–‹é–‹é—œé—œå¿ƒå¾ˆç´¯', hoursPerWeek: 4, desc: 'å·¥å…·ä¸æ•´åˆï¼Œåˆ‡æ›è»Ÿé«”åƒåœ¨ç·´æŒ‡æ³•ï¼Œæ‰“æ–·å·¥ä½œå¿ƒæµ', solution: 'Adobe Creative Cloud å®Œæ•´æ•´åˆç”Ÿæ…‹ç³»' },
        ];

        // State
        const state = {
            currentStep: 1,
            role: 'graphic',
            exp: 2,
            skills: ['ps', 'ai'],
            city: 'taipei',
            monthlySalary: 38000,
            workHours: 8,
            otHours: 0,
            commuteMins: 60,
            efficiencyChecks: [],
            isDarkMode: true
        };

        // DOM Elements
        const els = {
            skillGrid: document.getElementById('skills-grid'),
            tipsContainer: document.getElementById('tips-container'),
            riskList: document.getElementById('risk-list'),
            step1: document.getElementById('step-1'),
            step2: document.getElementById('step-2'),
            step3: document.getElementById('step-3'),
            tab1: document.getElementById('tab-1'),
            tab2: document.getElementById('tab-2'),
            tab3: document.getElementById('tab-3'),
            valMarketLow: document.getElementById('val-market-low'),
            valMarketHigh: document.getElementById('val-market-high'),
            valRealHourly: document.getElementById('val-real-hourly'),
            valRealHourlyContainer: document.getElementById('val-real-hourly-container'),
            hourlyTier: document.getElementById('hourly-tier'),
            hourlyDesc: document.getElementById('hourly-desc'),
            lossMin: document.getElementById('loss-min'),
            lossMax: document.getElementById('loss-max'),
            barValLoss: document.getElementById('bar-val-loss'),
            barLoss: document.getElementById('bar-loss'),
            barAdobe: document.getElementById('bar-adobe'),
            bossInsight: document.getElementById('boss-insight'),
            lossConclusion: document.getElementById('loss-conclusion'),
            hourlyRef: document.getElementById('hourly-ref'),
            crownBadge: document.getElementById('crown-badge')
        };

        // Render Functions
        function renderSkills() {
            els.skillGrid.innerHTML = Object.entries(SKILLS_VALUE).map(([key, data]) => {
                const isSelected = state.skills.includes(key);
                const activeClass = isSelected 
                    ? `bg-[#181818] ${data.color} shadow-md scale-105 dark:bg-[#181818] bg-white` 
                    : 'bg-gray-50 text-gray-400 border-gray-200 dark:bg-[#292929] dark:text-[#909090] dark:border-[#3E3E3E]';
                
                return `
                    <button onclick="toggleSkill('${key}')" class="relative aspect-square flex flex-col items-center justify-center p-2 rounded-xl border-2 transition-all group ${activeClass}">
                        <span class="text-2xl font-bold leading-none ${isSelected ? '' : 'text-gray-400 dark:text-[#909090]'}">${data.name}</span>
                        <span class="text-[10px] w-full px-1 font-medium text-center whitespace-normal leading-tight mt-1 opacity-80">${data.fullName}</span>
                    </button>
                `;
            }).join('');
        }

        function renderRisks() {
            els.riskList.innerHTML = RISK_ITEMS.map(item => {
                const isChecked = state.efficiencyChecks.includes(item.id);
                const containerClass = isChecked 
                    ? 'bg-blue-50 border-adobe-blue dark:bg-[#31A8FF]/10 dark:border-[#31A8FF]' 
                    : 'bg-gray-50 border-gray-200 hover:text-gray-900 dark:bg-[#252525] dark:border-[#505050] dark:text-[#A0A0A0] dark:hover:text-[#F5F5F5]';
                const textClass = isChecked ? 'text-adobe-blue' : '';
                const icon = isChecked 
                    ? '<svg class="w-6 h-6 text-adobe-blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="m9 12 2 2 4-4"/></svg>' 
                    : '<svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/></svg>';
                const solution = isChecked ? `<div class="mt-3 text-xs flex items-center gap-2 text-adobe-blue"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg> Adobe å°ç­–ï¼š${item.solution}</div>` : '';

                return `
                   <div onclick="toggleRisk('${item.id}')" class="flex items-start gap-4 p-5 rounded-xl border cursor-pointer transition-all ${containerClass}">
                     <div class="mt-0.5">${icon}</div>
                     <div class="flex-1">
                        <span class="text-base font-bold ${isChecked ? 'dark:text-[#f0f0f0]' : ''} ${textClass}">${item.text}</span>
                        <span class="block text-sm opacity-70 mt-1">${item.desc}</span>
                        ${solution}
                     </div>
                   </div>
                `;
            }).join('');
        }

        function renderTips() {
            let html = '';
            // Combo Tip
            html += `
                <div class="mt-8 p-5 rounded-2xl border border-green-500/30 bg-green-500/5 flex items-start gap-4">
                     <div class="p-2.5 bg-[#2DCA72] rounded-xl text-black shadow-sm mt-0.5 shrink-0"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg></div>
                     <div>
                       <h4 class="text-base font-bold dark:text-[#f0f0f0] mb-2">${ROLES[state.role].name} å¿…å‚™è»ç«åº«</h4>
                       <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">
                         æå‡è¡Œæƒ…çš„æœ€ä½³çµ„åˆï¼š
                         ${ROLES[state.role].recommended.map(r => `<span class="inline-block bg-[#2DCA72]/20 text-[#2DCA72] px-2 py-0.5 rounded mx-1 font-bold uppercase text-xs">${r}</span>`).join('')}
                         ã€‚æŒæ¡é€™äº›ï¼Œè­°åƒ¹æ›´æœ‰åº•æ°£ã€‚
                       </p>
                     </div>
                </div>
            `;
            
            // Specific Tips
            if (state.skills.includes('firefly')) {
                html += `
                 <div class="mt-5 p-5 rounded-2xl border border-red-500/30 bg-gradient-to-r from-red-500/5 to-orange-500/5 flex items-start gap-4 animate-fade-in">
                   <div class="p-2.5 bg-[#FF0000] rounded-xl text-white shadow-sm mt-0.5 shrink-0"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-2.072-2.143-3.175-3.175a.5.5 0 0 1 .63-.707c1.878 1.637 2.756 1.637 3.878 3.878H12a2.5 2.5 0 0 1 0 5Z"/><path d="M12 12V6a2.5 2.5 0 0 1 0-5 4.81 4.81 0 0 1 4.5 3.5"/><path d="M12 12v6a2.5 2.5 0 0 1 0 5 4.81 4.81 0 0 1 4.5-3.5"/></svg></div>
                   <div>
                     <h4 class="text-base font-bold dark:text-[#f0f0f0] mb-2 flex items-center gap-2">AI è·å ´å„ªå‹¢åŠ ä¹˜</h4>
                     <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">æ‚¨é¸æ“‡äº† <span class="text-[#FF0000] font-bold">Firefly</span>ï¼æœƒç”¨ AI çš„è¨­è¨ˆå¸«æ•ˆç‡å€å¢ï¼Œé€™æ˜¯æœªä¾† 3 å¹´ä¸è¢«æ·˜æ±°çš„é—œéµã€‚</p>
                   </div>
                 </div>`;
            }
            
            const coreApps = state.skills.filter(s => s !== 'firefly' && s !== 'substance');
            if (coreApps.length >= 3) {
                html += `
                 <div class="mt-5 p-5 rounded-2xl border border-purple-500/30 bg-gradient-to-r from-purple-900/5 to-blue-900/5 flex items-start gap-4 animate-fade-in">
                   <div class="p-2.5 bg-gradient-to-br from-[#FF0000] to-[#6018DC] rounded-xl text-white shadow-sm mt-0.5 shrink-0"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M3 5h4"/><path d="M3 9h4"/></svg></div>
                   <div>
                     <h4 class="text-base font-bold dark:text-[#f0f0f0] mb-2 flex items-center gap-2">Adobe è¨‚é–±æœ€ä½³åŒ–å»ºè­°</h4>
                     <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">æª¢æ¸¬åˆ°æ‚¨ä½¿ç”¨äº† 3 å¥—ä»¥ä¸Šè»Ÿé«”ï¼Œè¨‚é–± <span class="text-adobe-blue font-bold">Creative Cloud å…¨ç³»åˆ—</span> æˆæœ¬ç›¸è¿‘ï¼Œä½†èƒ½è§£é–å®Œæ•´æœå‹™ï¼</p>
                   </div>
                 </div>`;
            }

            if (state.skills.includes('substance')) {
                 html += `
                 <div class="mt-5 p-5 rounded-2xl border border-emerald-500/30 bg-gradient-to-r from-emerald-900/5 to-teal-900/5 flex items-start gap-4 animate-fade-in">
                   <div class="p-2.5 bg-[#24E2B1] rounded-xl text-black shadow-sm mt-0.5 shrink-0"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg></div>
                   <div>
                     <h4 class="text-base font-bold dark:text-[#f0f0f0] mb-2 flex items-center gap-2">3D æ•¸ä½è³‡ç”¢å„ªå‹¢</h4>
                     <p class="text-sm text-gray-500 dark:text-[#aaaaaa] leading-relaxed">ä½¿ç”¨ Substance 3D å¯å¿«é€Ÿç”¢å‡ºå•†å“æƒ…å¢ƒç…§ï¼Œé™ä½å¤–åŒ…æ”å½±æˆæœ¬ã€‚</p>
                   </div>
                 </div>`;
            }

            els.tipsContainer.innerHTML = html;
        }

        // Logic & Updates
        function calculateAndRender() {
            // Market Value
            let base = ROLES[state.role].base;
            let skillBonus = state.skills.reduce((acc, skill) => acc + (SKILLS_VALUE[skill]?.val || 0), 0);
            
            // Synergy
            if (state.skills.includes('firefly') && (state.skills.includes('ps') || state.skills.includes('ai'))) skillBonus += 2000; 
            if (state.skills.includes('ps') && state.skills.includes('pr') && state.skills.includes('ae')) skillBonus += 3000; 
            if (state.skills.includes('ai') && state.skills.includes('xd')) skillBonus += 2000;

            // Exp Multiplier
            let skillMultiplier = 1;
            if (state.exp < 1) skillMultiplier = 0.5; 
            else if (state.exp < 3) skillMultiplier = 0.75; 
            else if (state.exp < 5) skillMultiplier = 0.9; 
            
            let finalSkillBonus = skillBonus * skillMultiplier;
            let expBonus = state.exp <= 3 ? state.exp * 2000 : (3 * 2000) + ((state.exp - 3) * 1500);
            let cityBonus = state.city === 'taipei' ? 4000 : 0; 
            
            const marketVal = Math.round(base + finalSkillBonus + expBonus + cityBonus);
            const low = Math.max(27470, marketVal - 4000);
            
            els.valMarketLow.innerText = low.toLocaleString();
            els.valMarketHigh.innerText = marketVal.toLocaleString();
            
            if(marketVal > 60000) els.crownBadge.classList.remove('hidden');
            else els.crownBadge.classList.add('hidden');

            // Real Hourly
            const dailyCommuteHours = state.commuteMins / 60;
            const totalHours = ((state.workHours + dailyCommuteHours) * 22) + state.otHours;
            const realHourly = Math.round(state.monthlySalary / totalHours);
            
            els.valRealHourly.innerText = realHourly;
            
            // Hourly Feedback
            let tier = '', desc = '', colorClass = '', bgClass = '', borderClass = '';
            if (realHourly < 190) {
                tier = 'æ…˜ï¼æ¯”å·¥è®€ç”Ÿé‚„ä½';
                desc = 'é€™æ™‚è–ªé€£åŠ æ²¹ç«™æ‰“å·¥éƒ½ä¸å¦‚...ä½ çš„å°ˆæ¥­èˆ‡æ™‚é–“æ­£åœ¨è¢«åš´é‡ä½ä¼°ã€‚';
                colorClass = 'text-[#FF5555]';
                bgClass = 'bg-[#3A1515]';
                borderClass = 'border-[#FF6666]/50';
            } else if (realHourly < 280) {
                tier = 'çª®å¿™ç¤¾ç•œå€';
                desc = 'æ‰£æ‰æˆ¿ç§Ÿä¾¿ç•¶éŒ¢ï¼ŒçœŸçš„å­˜å¾—åˆ°éŒ¢å—ï¼Ÿå°å…¥ AI è®“è‡ªå·±æ—©é»ä¸‹ç­å§ã€‚';
                colorClass = 'text-[#FF9A00]';
                bgClass = 'dark:bg-[#FF9A00]/10 bg-orange-50';
                borderClass = 'dark:border-[#FF9A00]/30 border-orange-200';
            } else if (realHourly < 450) {
                tier = 'å°ˆæ¥­è·äººå€';
                desc = 'é€™æ‰æ˜¯è¨­è¨ˆå¸«è©²æœ‰çš„å°Šåš´ï¼æŒçºŒç²¾é€²å‹•æ…‹æˆ– 3D æŠ€èƒ½ï¼Œå¾€è³‡æ·±é‚é€²ã€‚';
                colorClass = 'text-[#2DCA72]';
                bgClass = 'dark:bg-[#2DCA72]/10 bg-green-50';
                borderClass = 'dark:border-[#2DCA72]/30 border-green-200';
            } else {
                tier = 'è¨­è¨ˆå¤§ç¥å€';
                desc = 'å—æˆ‘ä¸€æ‹œï¼ä½ çš„æ•ˆç‡èˆ‡åƒ¹å€¼å·²è¶…è¶Š 90% åŒè¡Œï¼Œè«‹ç¹¼çºŒä¿æŒå„ªå‹¢ã€‚';
                colorClass = 'text-[#FFD700]';
                bgClass = 'dark:bg-[#FFD700]/10 bg-yellow-50';
                borderClass = 'dark:border-[#FFD700]/30 border-yellow-200';
            }
            
            els.hourlyTier.innerText = tier;
            els.hourlyTier.className = `text-xl font-bold ${colorClass}`;
            els.hourlyDesc.innerText = desc;
            els.valRealHourlyContainer.className = `text-6xl font-bold tracking-tighter mb-6 font-mono ${colorClass}`;
            
            // ROI
            const weeklyWastedHours = state.efficiencyChecks.reduce((total, id) => {
                const item = RISK_ITEMS.find(i => i.id === id);
                return total + (item ? item.hoursPerWeek : 0);
            }, 0);
            const monthlyWastedHours = weeklyWastedHours * 4;
            const minHiddenCost = Math.round(monthlyWastedHours * realHourly);
            const maxHiddenCost = Math.round(minHiddenCost * 1.5);
            const adobeCost = 4000;
            const isLoss = minHiddenCost > adobeCost;

            els.lossMin.innerText = `NT$ ${minHiddenCost.toLocaleString()}`;
            els.lossMax.innerText = maxHiddenCost.toLocaleString();
            els.lossMin.className = `text-2xl sm:text-3xl font-bold font-mono tracking-tight whitespace-nowrap ${isLoss ? 'text-[#FF5555]' : 'dark:text-[#f0f0f0]'}`;
            els.lossMax.className = els.lossMin.className;
            
            els.barValLoss.innerText = `$${minHiddenCost.toLocaleString()}`;
            els.barLoss.style.width = `${Math.min(100, (minHiddenCost / 10000) * 100)}%`;
            els.barLoss.className = `h-full transition-all duration-500 ${isLoss ? 'bg-[#FF5555]' : 'bg-[#2DCA72]'}`;
            
            els.barAdobe.style.width = `${Math.min(100, (adobeCost / 10000) * 100)}%`;
            
            els.hourlyRef.innerText = realHourly;
            
            const bossBox = document.getElementById('boss-insight');
            const bossTitle = bossBox.querySelector('h4');
            const bossConclusion = document.getElementById('loss-conclusion');
            
            if (isLoss) {
                bossBox.className = "p-5 rounded-xl border flex gap-4 transition-colors bg-[#3A1515] border-[#FF6666]/50";
                bossTitle.className = "text-base font-bold mb-2 text-[#FF8888]";
                bossConclusion.innerText = "çµè«–ï¼šç›®å‰æ¯æœˆè™§æå·²è¶…éè¨‚é–± Adobe CC çš„è²»ç”¨ã€‚";
                bossConclusion.className = "block mt-3 font-bold text-[#FF8888]";
            } else {
                bossBox.className = "p-5 rounded-xl border flex gap-4 transition-colors dark:border-[#444444]";
                bossTitle.className = "text-base font-bold mb-2 dark:text-white";
                bossConclusion.innerText = "";
            }
        }

        // Actions
        function toggleSkill(key) {
            if (state.skills.includes(key)) {
                state.skills = state.skills.filter(s => s !== key);
            } else {
                state.skills.push(key);
            }
            renderSkills();
            renderTips();
            calculateAndRender();
        }

        function toggleRisk(id) {
            if (state.efficiencyChecks.includes(id)) {
                state.efficiencyChecks = state.efficiencyChecks.filter(s => s !== id);
            } else {
                state.efficiencyChecks.push(id);
            }
            renderRisks();
            calculateAndRender();
        }

        function goToStep(step) {
            // Validation
            if (step === 2 && state.currentStep === 1) {
                if (state.skills.length === 0) {
                    showToast('è«‹è‡³å°‘å‹¾é¸ä¸€é …åƒé£¯å‚¢ä¼™ï¼', true);
                    document.getElementById('skills-grid').classList.add('shake', 'border-2', 'border-red-500');
                    setTimeout(() => document.getElementById('skills-grid').classList.remove('shake', 'border-2', 'border-red-500'), 500);
                    return;
                }
                // Auto populate
                const high = parseInt(els.valMarketHigh.innerText.replace(/,/g, ''));
                const low = parseInt(els.valMarketLow.innerText.replace(/,/g, ''));
                const avg = Math.ceil(Math.round((high + low) / 2) / 100) * 100;
                document.getElementById('monthlySalary').value = avg;
                state.monthlySalary = avg;
            }
            if (step === 3 && state.currentStep === 2) {
                 if (state.monthlySalary <= 0 || state.workHours <= 0) {
                     showToast('è«‹è¼¸å…¥æœ‰æ•ˆçš„è–ªè³‡èˆ‡å·¥æ™‚ï¼', true);
                     return;
                 }
            }

            state.currentStep = step;
            
            // UI Toggle
            [1, 2, 3].forEach(i => {
                const el = document.getElementById(`step-${i}`);
                const tab = document.getElementById(`tab-${i}`);
                if (i === step) {
                    el.classList.remove('hidden');
                    // Active Tab Style
                    tab.className = `flex items-center gap-2 px-3 py-2 rounded-lg transition-all border-b-2 border-adobe-blue bg-gray-100 dark:bg-[#3E3E3E] dark:text-white`;
                    tab.querySelector('div').className = "w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-adobe-blue text-white";
                    tab.querySelector('span').className = "text-sm font-bold";
                } else {
                    el.classList.add('hidden');
                    // Inactive Tab Style
                    tab.className = `flex items-center gap-2 px-3 py-2 rounded-lg transition-all border-b-2 border-transparent text-gray-400 dark:text-[#888888]`;
                    tab.querySelector('div').className = "w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-gray-300 dark:bg-[#555555] text-white";
                    tab.querySelector('span').className = "text-sm font-bold opacity-50";
                }
            });
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            calculateAndRender();
        }

        function copyReport() {
            const report = `ã€Adobe è¨­è¨ˆå¸«èº«åƒ¹å¥æª¢ã€‘
------------------
1ï¸âƒ£ èº«åƒ¹ä¼°ç®—
è·ä½ï¼š${ROLES[state.role].name} (${state.exp}å¹´è³‡æ­·)
åƒé£¯å‚¢ä¼™ï¼š${state.skills.map(s => SKILLS_VALUE[s].name).join('+')}
å¸‚å ´è¡Œæƒ…ï¼šNT$${els.valMarketLow.innerText} - ${els.valMarketHigh.innerText}

2ï¸âƒ£ çœŸå¯¦æ™‚è–ª (å«é€šå‹¤)
æ™‚è–ªï¼š$${els.valRealHourly.innerText} (${els.hourlyTier.innerText})
${els.hourlyDesc.innerText}

3ï¸âƒ£ éš±å½¢è™§æé¢¨éšª
æ¯æœˆéš±å½¢æµªè²»ï¼šNT$${els.lossMin.innerText.replace('NT$ ', '')} - ${els.lossMax.innerText}
${state.efficiencyChecks.length > 0 ? 'âš ï¸ è­¦è¨Šï¼šæ›¿ä»£æ–¹æ¡ˆèˆ‡åˆ†æ•£çš„è¨‚é–±æ­£ä¾µè•å…¬å¸åˆ©æ½¤ï¼' : 'âœ… ç‹€æ…‹ï¼šç›®å‰æµç¨‹æ§åˆ¶å¾—å®œï¼ŒæŒçºŒä¿æŒï¼'}
------------------
ç«‹å³åŠ å…¥ LINE ç²å–æå‡èº«åƒ¹æ”»ç•¥ ğŸ‘‰ ${LINE_OA_ID}`;
            
            // Legacy copy method for broader compatibility
            const textArea = document.createElement("textarea");
            textArea.value = report;
            textArea.style.position = "fixed"; 
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                showToast(successful ? 'å ±å‘Šå·²è¤‡è£½ï¼Œå¿«å»ç¤¾ç¾¤åˆ†äº«è¨æ‹ï¼' : 'è¤‡è£½å¤±æ•—');
            } catch (err) {
                showToast('ç„¡æ³•åŸ·è¡Œè¤‡è£½');
            }
            
            document.body.removeChild(textArea);
        }

        function toggleTheme() {
            state.isDarkMode = !state.isDarkMode;
            document.documentElement.classList.toggle('dark');
            updateThemeIcon();
            renderRisks(); // Re-render logic that depends on theme colors
            calculateAndRender();
        }

        function updateThemeIcon() {
            const icon = document.getElementById('theme-icon');
            if (state.isDarkMode) {
                icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>'; // Moon
                icon.classList.remove('text-yellow-400');
                icon.classList.add('text-adobe-blue');
            } else {
                icon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>'; // Sun
                icon.classList.add('text-yellow-400');
                icon.classList.remove('text-adobe-blue');
            }
        }

        function showToast(msg, isError = false) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = msg;
            toast.classList.remove('hidden');
            if(isError) {
                toast.classList.remove('bg-adobe-blue');
                toast.classList.add('bg-red-500');
            } else {
                toast.classList.add('bg-adobe-blue');
                toast.classList.remove('bg-red-500');
            }
            setTimeout(() => toast.classList.add('hidden'), 3000);
        }

        function openModal(id) { document.getElementById(id).classList.remove('hidden'); }
        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }

        // Event Listeners for Inputs
        document.getElementById('role').addEventListener('change', (e) => { state.role = e.target.value; renderTips(); calculateAndRender(); });
        document.getElementById('city').addEventListener('change', (e) => { state.city = e.target.value; calculateAndRender(); });
        document.getElementById('exp').addEventListener('input', (e) => { 
            state.exp = parseInt(e.target.value); 
            document.getElementById('exp-display').innerText = state.exp + ' å¹´';
            renderTips();
            calculateAndRender(); 
        });
        document.getElementById('monthlySalary').addEventListener('input', (e) => { state.monthlySalary = parseInt(e.target.value) || 0; calculateAndRender(); });
        document.getElementById('workHours').addEventListener('input', (e) => { state.workHours = parseFloat(e.target.value) || 0; calculateAndRender(); });
        document.getElementById('otHours').addEventListener('input', (e) => { state.otHours = parseInt(e.target.value) || 0; calculateAndRender(); });
        document.getElementById('commuteMins').addEventListener('input', (e) => { 
            state.commuteMins = parseInt(e.target.value); 
            document.getElementById('commute-display').innerText = state.commuteMins + ' åˆ†é˜';
            calculateAndRender(); 
        });

        // Initialize
        renderSkills();
        renderRisks();
        renderTips();
        calculateAndRender();
        updateThemeIcon();
    </script>
</body>
</html>
